
 ▐▛███▜▌   Claude Code v2.0.55
▝▜█████▛▘  Opus 4.5 · Claude Max
  ▘▘ ▝▝    ~/Documents/Projects/dot-claude

> /analyze:marketplace is running… @plugins/super/ 
  ⎿  Allowed 8 tools for this command

⏺ I'll analyze the super plugin. Let me first load the marketplace analysis
  methodology.

> The "marketplace-analysis" skill is loading 

⏺ Now let me analyze the super plugin comprehensively. I'll read all its
  components.

⏺ Search(pattern: "plugins/super/**/*")
  ⎿  Found 48 files (ctrl+o to expand)

⏺ Read(plugins/super/.claude-plugin/plugin.json)
  ⎿  Read 23 lines

⏺ Read(plugins/super/hooks/hooks.json)
  ⎿  Read 50 lines

⏺ Read(plugins/super/skills/using-superpowers/SKILL.md)
  ⎿  Read 103 lines

⏺ Read(plugins/super/skills/brainstorming/SKILL.md)
  ⎿  Read 219 lines

⏺ Read(plugins/super/skills/test-driven-development/SKILL.md)
  ⎿  Read 415 lines

⏺ Read(plugins/super/skills/testing-anti-patterns/SKILL.md)
  ⎿  Read 385 lines

⏺ Now let me read the remaining skills and components:

⏺ Read(plugins/super/skills/systematic-debugging/SKILL.md)
  ⎿  Read 307 lines

⏺ Read(plugins/super/skills/verification-before-completion/SKILL.md)
  ⎿  Read 141 lines

⏺ Read(plugins/super/skills/writing-plans/SKILL.md)
  ⎿  Read 290 lines

⏺ Read(plugins/super/skills/executing-plans/SKILL.md)
  ⎿  Read 135 lines

⏺ Read(plugins/super/skills/finishing-a-development-branch/SKILL.md)
  ⎿  Read 202 lines

⏺ Read(plugins/super/skills/using-git-worktrees/SKILL.md)
  ⎿  Read 215 lines

⏺ Now let me read the remaining skills and components:

⏺ Read(plugins/super/skills/dispatching-parallel-agents/SKILL.md)
  ⎿  Read 192 lines

⏺ Read(plugins/super/skills/subagent-driven-development/SKILL.md)
  ⎿  Read 191 lines

⏺ Read(plugins/super/skills/root-cause-tracing/SKILL.md)
  ⎿  Read 185 lines

⏺ Read(plugins/super/skills/writing-skills/SKILL.md)
  ⎿  Read 624 lines

⏺ Read(plugins/super/skills/testing-skills-with-subagents/SKILL.md)
  ⎿  Read 404 lines

⏺ Read(plugins/super/skills/sharing-skills/SKILL.md)
  ⎿  Read 196 lines

⏺ Let me continue reading the remaining skills and components:

⏺ Read(plugins/super/skills/receiving-code-review/SKILL.md)
  ⎿  Read 211 lines

⏺ Read(plugins/super/skills/requesting-code-review/SKILL.md)
  ⎿  Read 121 lines

⏺ Read(plugins/super/skills/condition-based-waiting/SKILL.md)
  ⎿  Read 122 lines

⏺ Read(plugins/super/skills/defense-in-depth/SKILL.md)
  ⎿  Read 129 lines

⏺ Read(plugins/super/agents/code-reviewer.md)
  ⎿  Read 332 lines

⏺ Read(plugins/super/agents/security-reviewer.md)
  ⎿  Read 158 lines

⏺ Now let me read the remaining components:

⏺ Read(plugins/super/agents/diagram-generator.md)
  ⎿  Read 454 lines

⏺ Read(plugins/super/commands/brainstorm.md)
  ⎿  Read 7 lines

⏺ Read(plugins/super/commands/context.md)
  ⎿  Read 16 lines

⏺ Read(plugins/super/commands/exec.md)
  ⎿  Read 7 lines

⏺ Read(plugins/super/commands/notes.md)
  ⎿  Read 22 lines

⏺ Read(plugins/super/commands/plan.md)
  ⎿  Read 7 lines

⏺ Now let me read the hooks:

⏺ Read(plugins/super/hooks/session-start.sh)
  ⎿  Read 35 lines

⏺ Read(plugins/super/hooks/tdd-guard.sh)
  ⎿  Read 58 lines

⏺ Read(plugins/super/hooks/worktree-guard.sh)
  ⎿  Read 77 lines

⏺ Now let me read the reference documents in the analyze plugin for the
  quality standards:

⏺ Read(~/.claude/plugins/marketplaces/dot-claude/plugins/analyze/skills/marketpl
      ace-analysis/references/quality-standards.md)
  ⎿  Read 279 lines

⏺ Read(~/.claude/plugins/marketplaces/dot-claude/plugins/analyze/skills/marketpl
      ace-analysis/references/skill-design-standards.md)
  ⎿  Read 368 lines

⏺ Now I have a comprehensive understanding of the super plugin. Let me
  compile my analysis into prioritized findings.

  ---
  Super Plugin Analysis

  I've completed a thorough analysis of the super plugin. Here are my
  findings organized by priority:

  ---
  Priority 1: High Impact, Low Effort

  1. TDD-Guard Hook Missing Session Tracking

  - Location: plugins/super/hooks/tdd-guard.sh:53-54
  - Issue: The hook unconditionally denies edits to production files, but
  there's no mechanism to track that a test file WAS edited in the current
  session. After editing a test file, the user cannot edit production files
  without getting blocked again.
  - Impact: Frustrating user experience - the guard blocks legitimate TDD
  workflow after the test step is complete.
  - Fix: Add session-based tracking (e.g., temp file or environment
  variable) to track when a test file was edited within the session,
  allowing production edits after that.
  - Validation: Edit a test file, then attempt to edit a production file -
  should be allowed.

  2. Inconsistent Skill Cross-References

  - Location: Various SKILL.md files
  - Issue: Some skills use super:skill-name format while others use just
  skill-name. Also inconsistent use of "REQUIRED SUB-SKILL:" vs "REQUIRED
  BACKGROUND:".
  - Examples:
    - writing-skills/SKILL.md:523 uses super:testing-skills-with-subagents
    - systematic-debugging/SKILL.md:126 uses just super:root-cause-tracing
    - Some use @ syntax which force-loads files
  - Impact: Inconsistent triggering and potential broken references.
  - Fix: Standardize on super:skill-name format everywhere and use
  consistent "REQUIRED SUB-SKILL:" prefix.
  - Validation: Search for all skill references and verify consistency.

  3. Agent Description Examples Using Old Format

  - Location: agents/code-reviewer.md:4, agents/diagram-generator.md:4,
  agents/security-reviewer.md:4
  - Issue: Agent descriptions include inline <example> tags which add token
  bloat. The description field should be concise.
  - Impact: Excessive token usage when agents are loaded.
  - Fix: Move examples to the agent body or create reference files.
  - Validation: Measure description length before/after, target <500 chars.

  ---
  Priority 2: Medium Impact

  4. Duplicated Code-Reviewer Content

  - Location:
    - agents/code-reviewer.md (332 lines)
    - skills/requesting-code-review/code-reviewer.md (exists as template)
  - Issue: The code-reviewer agent definition is very long and includes
  detailed review process. There's also a template reference at
  requesting-code-review/code-reviewer.md.
  - Impact: Duplication and maintenance burden; unclear which is
  authoritative.
  - Fix: Consolidate - agent definition should be lean, with detailed
  instructions in a reference file.
  - Validation: Verify no duplicated content between files.

  5. Skill Description Quality Inconsistency

  - Location: Multiple SKILL.md frontmatter
  - Issue: Some descriptions are excellent ("Use when X - does Y"), others
  are vague.
  - Examples:
    - Good: test-driven-development - "Use when implementing any feature or
  bugfix, before writing implementation code..."
    - Weak: defense-in-depth - "Use when invalid data causes failures deep
  in execution..." (could be more specific about triggers)
  - Impact: Reduced skill discoverability.
  - Fix: Audit all descriptions, ensure they follow "Use when [specific
  triggers] - [what it does]" pattern.
  - Validation: Each description should answer "When exactly should I use
  this?"

  6. Missing allowed-tools on Several Skills

  - Location: Multiple SKILL.md files lack allowed-tools restrictions
  - Issue: Per the official standards, skills should define tool
  restrictions to enforce discipline.
  - Impact: Skills may not be constrained properly during execution.
  - Note: This may be intentional for some skills, but should be reviewed.
  - Validation: Verify each skill either has allowed-tools or has documented
   reason for omission.

  7. Hooks Configuration Could Be Consolidated

  - Location: hooks/hooks.json
  - Issue: Two PreToolUse entries both match "Write|Edit" - these could
  potentially be combined into a single entry with both hooks.
  - Impact: Minor efficiency issue; hooks run sequentially anyway.
  - Fix: Consider consolidating if timeout allows.
  - Validation: Test that both guards still run correctly after
  consolidation.

  ---
  Priority 3: Consider Later

  8. Large Skills Could Benefit from Progressive Disclosure

  - Location:
    - writing-skills/SKILL.md (624 lines)
    - test-driven-development/SKILL.md (415 lines)
    - testing-skills-with-subagents/SKILL.md (404 lines)
  - Issue: Per official standards, SKILL.md should be <500 lines with
  details in references.
  - Impact: Token bloat when these skills are loaded.
  - Fix: Extract sections (e.g., "Common Rationalizations", "Examples") to
  reference files.
  - Validation: Main SKILL.md under 500 lines; references load on-demand.

  9. Diagram-Generator Agent Overspecified

  - Location: agents/diagram-generator.md (454 lines)
  - Issue: Very detailed agent with extensive examples. Could be split into
  lean definition + reference.
  - Impact: Token cost when agent is loaded.
  - Fix: Extract examples and edge cases to reference file.
  - Validation: Agent definition <200 lines.

  10. Command Files Are Redundant Wrappers

  - Location: commands/brainstorm.md, commands/exec.md, commands/plan.md
  - Issue: These commands are just "Use the X skill exactly as written" -
  they add no value beyond the skill itself.
  - Impact: Slight confusion about when to use command vs skill.
  - Fix: Either remove commands that just wrap skills, or add unique value
  to commands.
  - Validation: Each command should provide distinct value from its
  underlying skill.

  11. Security-Reviewer Agent Has Capability Bloat

  - Location: agents/security-reviewer.md
  - Issue: Lists exhaustive capabilities (158 lines) that could overwhelm.
  Not clear which are primary vs secondary.
  - Impact: Diluted focus; unclear when to use specific capabilities.
  - Fix: Prioritize top 5-7 capabilities; move rest to reference.
  - Validation: Agent can explain its core value in 2-3 sentences.

  12. Missing Integration Documentation

  - Issue: No central documentation showing how skills/agents/commands/hooks
   work together as a system.
  - Impact: New users may not understand the overall workflow.
  - Fix: Add architecture diagram or workflow documentation.
  - Validation: New user can understand plugin flow in <5 minutes.

  ---
  Overall Assessment

  Strengths:
  - Comprehensive TDD enforcement with hooks and skills
  - Well-documented rationalization prevention patterns
  - Clean separation of concerns (skills, agents, commands, hooks)
  - Strong code review workflow integration
  - Excellent verification-before-completion discipline

  Areas for Improvement:
  1. Token efficiency - several large files exceed recommended limits
  2. Consistency - cross-references and description formats vary
  3. Hook tracking - TDD guard could be more sophisticated
  4. Duplication - some content appears in multiple places

  Recommendation: Focus on Priority 1 items first (especially the TDD hook
  tracking issue), then address Priority 2 for quality consistency.

> write all this done in @docs/plans/ 
  ⎿  Listed directory docs/plans/
  ⎿  Interrupted · What should Claude do instead?



